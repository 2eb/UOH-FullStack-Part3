{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newContact","post","id","put","concat","delete","Notification","_ref","props","message","color","style","fontSize","borderStyle","borderRadius","padding","backgroundColor","marginBottom","react_default","a","createElement","Display","_ref2","persons","searchTerm","handleRemove","filter","person","name","toLowerCase","indexOf","map","key","number","onClick","Search","_ref3","onChange","value","Input","_ref4","text","PersonForm","_ref5","handleNewName","newName","handlePhoneNumber","phoneNumber","handleClick","App_Input","type","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setPhoneNumber","_useState7","_useState8","setSearchTerm","_useState9","_useState10","setMessage","useEffect","personService","console","log","App_Notification","App_Search","event","target","App_PersonForm","preventDefault","contact","length","objectSpread","window","confirm","setTimeout","catch","error","App_Display","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e486b54f.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\"\n//const baseUrl = \"http://localhost:3001/api/persons\"\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newContact => {\n    const request = axios.post(baseUrl, newContact)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newContact) => {\n    const request = axios.put(`${baseUrl}/${id}`, newContact)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove}","import React from \"react\"\nimport { useState, useEffect } from \"react\";\nimport personService from \"./services/persons\"\n\nconst Notification = ({ props }) => {\n  const { message, color } = props\n  //console.log(color);\n\n  const style = {\n    color: `${color}`,\n    fontSize: 16,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    backgroundColor: \"lightgray\",\n    marginBottom: 10\n  }\n  //console.log(style);\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={style}>\n      {message}\n    </div>\n  )\n}\n\nconst Display = ({ persons, searchTerm, handleRemove }) => {\n  let personList = []\n  if (searchTerm !== '') {\n    personList = persons.filter(person =>\n      person.name.toLowerCase().indexOf(searchTerm) !== -1)\n  } else {\n    personList = persons\n  }\n\n  return (\n    personList.map(person =>\n      <p key={person.name}>\n        {person.name} {person.number + \" \"}\n        <button onClick={() => handleRemove(person.id, person.name)}>remove</button>\n      </p>\n    )\n  )\n}\n\nconst Search = ({ onChange, value }) => {\n  return (\n    <div>filter shown with{' '}\n      <input onChange={onChange} value={value} />\n    </div>\n  )\n}\n\nconst Input = ({ text, onChange, value }) => {\n  return (\n    <div>\n      {text}: <input onChange={onChange} value={value} />\n    </div>\n  )\n}\n\nconst PersonForm = ({ props }) => {\n  const { handleNewName, newName, handlePhoneNumber, phoneNumber, handleClick } = props\n  return (\n    <form>\n      <Input text='name' onChange={handleNewName} value={newName} />\n      <Input text='number' onChange={handlePhoneNumber} value={phoneNumber} />\n      <div>\n        <button type=\"submit\" onClick={handleClick}>add</button>\n      </div>\n    </form>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [phoneNumber, setPhoneNumber] = useState('')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [message, setMessage] = useState({ message: null, color: null })\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        console.log(\"getAll called\");\n        setPersons(response)\n      })\n  }, [])\n\n  const handleClick = (event) => {\n    event.preventDefault()\n    const contact = persons.filter(person => {\n      return person.name.toLowerCase() === newName.toLowerCase()\n    })\n    if (contact.length !== 0) {\n      const newContact = { ...contact[0], number: phoneNumber }\n      const confirm = window.confirm(\n        `${newContact.name} is already added to phonebook,` +\n        `replace the old number with a new one?`)\n      if (confirm) {\n        personService\n          .update(newContact.id, newContact)\n          .then(response => {\n            setMessage({\n              message: `Contact \"${newContact.name}\" updated succesfully`,\n              color: \"green\"\n            })\n            setTimeout(() => {\n              setMessage({ message: null, color: null })\n            }, 5000);\n            setPersons(persons.map(person =>\n              person.id === newContact.id ? newContact : person\n            ))\n          })\n          .catch(error => {\n            setMessage({\n              message: error.response.data.error,\n              color: \"red\"\n            })\n            setTimeout(() => {\n              setMessage({ message: null, color: null })\n            }, 5000);\n          })\n      }\n    } else {\n      const newContact = {\n        name: newName,\n        number: phoneNumber\n      }\n      personService\n        .create(newContact)\n        .then(response => {\n          setMessage({\n            message: `New contact \"${newContact.name}\" created succesfully`,\n            color: \"green\"\n          })\n          setTimeout(() => {\n            setMessage({ message: null, color: null })\n          }, 5000);\n          setPersons(persons.concat(response))\n        })\n        .catch((error) => {\n          setMessage({\n            message: error.response.data.error,\n            color: \"red\"\n          })\n          setTimeout(() => {\n            setMessage({ message: null, color: null })\n          }, 5000);\n        })\n    }\n    setNewName('')\n    setPhoneNumber('')\n  }\n\n  const handleRemove = (id, name) => {\n    const confirm = window.confirm(`Remove ${name}?`)\n    if (confirm) {\n      personService\n        .remove(id)\n        .then(response => {\n          setMessage({\n            message: `Contact \"${name}\" removed succesfully`,\n            color: \"green\"\n          })\n          setTimeout(() => {\n            setMessage({ message: null, color: null })\n          }, 5000);\n          setPersons(persons.filter(person => person.id !== id))\n        })\n        .catch(error => {\n          setPersons(persons.filter(person => person.id !== id))\n          setMessage({\n            message: `Error: \"${name}\" has already been removed from server`,\n            color: \"red\"\n          })\n          setTimeout(() => {\n            setMessage({ message: null, color: null })\n          }, 5000);\n        })\n    }\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlePhoneNumber = (event) => {\n    setPhoneNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    setSearchTerm(event.target.value.toLowerCase())\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification props={message} />\n      <Search onChange={handleSearch} value={searchTerm} />\n      <h2>Add a number</h2>\n      <PersonForm props={{\n        handleNewName,\n        newName,\n        handlePhoneNumber,\n        phoneNumber,\n        handleClick\n      }} />\n      <h2>Numbers</h2>\n      <Display\n        persons={persons}\n        searchTerm={searchTerm}\n        handleRemove={handleRemove} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\"\nimport App from './App';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}